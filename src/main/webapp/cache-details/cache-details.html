<div class="container-fluid" style="margin:20px">
    <div class="row">
        <div class="col-md-6 breadcrumbs">
            <span> <a href="#/cluster/{{currentCluster.name}}"> {{currentCluster.name}} </a>  >>  {{currentCache.name}} </span>
        </div>

        <div class="col-md-6 text-right">
            <div class="dropdown dropdown-menu-right">
                <button class="btn btn-default dropdown-toggle" type="button" id="cacheActionMenu" data-toggle="dropdown">
                    Actions
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Edit cache</a>
                    </li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Stop cache</a>
                    </li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Clear cache</a>
                    </li>
                    <li role="presentation" class="divider"></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Delete cache</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <br>

    <div class="cache-details">
        <div class="cache-name">{{currentCache.name}}</div>
        <div class="cache-status">
            <span class="cache-status-label">Status:</span>  <span class="available">{{currentCacheStats['cache-status']}}</span>
        </div>
        <div class="cache-details row cache-information">
            <div class="col-md-3">
                <div class="col-md-7">
                    <div>Average read time:</div>
                    <div>Average write time:</div>
                    <div>Average size of entry:</div>
                    <div>Total number of entries:</div>
                </div>
                <div class="col-md-5">
                    <div>{{currentCache.data['average-read-time']}} ms</div>
                    <div>{{currentCache.data['average-write-time']}} ms</div>
                    <div>N/A</div>
                    <div>{{currentCache.data['number-of-entries']}}</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="col-md-7">
                    <div>Total number of hits:</div>
                    <div>Total number of misses:</div>
                    <div>Average replication time:</div>
                    <div>Success ratio:</div>
                </div>
                <div class="col-md-5">
                    <div>{{currentCache.data['hits']}}</div>
                    <div>{{currentCache.data['misses']}}</div>
                    <div>{{currentCache.data['average-replication-time']}}</div>
                    <div>{{currentCache.data['success-ratio']}}</div>
                </div>
            </div>
        </div>

        <br>

        <div class="row">
            <div class="col-md-9 text-left">
                <div class="cache-status">
                    <span class="cache-status-label">Nodes</span>
                </div>
            </div>
            <div class="col-md-3 text-right">
                <span class="search-text"> Search: </span> 
                <input type="search" class="search-field">
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <table class="table table-bordered">
                    <thead>
                        <th>Name</th>
                        <th>Average reads</th>
                        <th>Average writes</th>
                        <th>Total entries</th>
                        <th>Hits</th>
                        <th>Misses</th>
                        <th>Read/Write ratio</th>
                        <th>Total failed writes</th>
                    </thead>
                    <tr  ng-repeat="stats in currentCacheStats.nodeStats">
                        <td>{{stats['node-name']}}</td>
                        <td>{{stats['average-read-time']}} ms</td>
                        <td>{{stats['average-write-time']}} ms</td>
                        <td>{{stats['number-of-entries']}}</td>
                        <td>{{stats['hits']}}</td>
                        <td>{{stats['misses']}}</td>
                        <td>{{stats['read-write-ratio']}}</td>
                        <td>N/A</td>
                    </tr>
                </table>
            </div>
        </div>

        <br>
        <div class="row">
            <div class="col-md-12">
                <div class="cache-status">
                    <span class="cache-status-label">Properties</span>
                </div>
            </div>
        </div>

        <div class="cache-properties row">
            <div class="col-md-3">
                <div>Cache name:</div>
                <div>Mode:</div>
                <div>Associated cache/loader store:</div>

                <div>Write-through/Write-behind:</div>
                <div>Isolation level:</div>
                <div>Eviction strategy:</div>

                <div>Passivation:</div>
                <div>Expiration configuration:</div>
                <div>Cross-site replication:</div>
            </div>
            <div class="col-md-9">
                <div>{{currentCache.name}}</div>
                <div>{{currentCache.type}}</div>
                <div>N/A</div>

                <div>Mock</div>
                <div>{{currentCache.locking.LOCKING.isolation}}</div>
                <div>N/A</div>

                <div>N/A</div>
                <div>N/A</div>
                <div>N/A</div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="cache-status">
                    <span class="cache-status-label">Experimental</span>
                </div>
            </div>
        </div>
        Connection to Infinispan Server REST endpoint through corsproxy (NOTE: check README for necessary instructions)<br>
        <input type="text" ng-model="corsproxyAddress">/
        <input type="text" ng-model="ispnRestEndpoint">/{{currentCache.name}}
        <br>
        <input type="text" ng-model="cacheEntryKey" placeholder="cache entry key" ng-change="getEntry()">
        <input type="text" ng-model="cacheEntryValue" placeholder="cache entry value">
        <form ng-submit="putEntry()">
            <input type="submit" value="putEntry"></form>
        <h3>The value for key: <b>{{cacheEntryKey}}</b> is <b>{{returnedCacheEntryValue}}</b></h3>

    </div>
</div>
