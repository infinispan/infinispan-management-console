<div ng-include="'components/directives/cache/store/views/generic-fields.html'"></div>

<div class="form-group"
     ng-if="data['store-type'] === 'string-keyed-jdbc-store' || data['store-type'] === 'mixed-keyed-jdbc-store' || hasStringKeyedTable()">
  <label class="col-md-4 control-label">String keyed table</label>

  <div class="col-md-4">
    <modal-dialog data="store" field="string-keyed-table" field-meta="getFieldMetaValues('string-keyed-table')"
                  outside-controller="internalController" parent-meta="getFieldMetaObject('string-keyed-table')"
                  previous-values="prevData['string-keyed-table']" title="String Keyed Table"
                  modal-fields="[{name: 'prefix'}, {name: 'batch-size'}, {name: 'fetch-size'},
                  {name: 'name', parent: 'id-column'}, {name: 'type', parent: 'id-column'},
                  {name: 'name', parent: 'data-column'}, {name: 'type', parent: 'data-column'},
                  {name: 'name', parent: 'timestamp-column'}, {name: 'type', parent: 'timestamp-column'},
                  {name: 'create-on-start'}, {name: 'drop-on-exit'}]"/>
  </div>
  <div class="col-md-4 pull-left">
    <i class="fa fa-info-circle" tooltip="{{metadata.currentStore['string-keyed-table'].description}}"
       tooltip-trigger tooltip-animation="true" tooltip-placement="top"></i>
    <span ng-if="isFieldValueModified('string-keyed-table')"><a
      ng-click="undoFieldChange('string-keyed-table')">(Undo)</a>
                <span ng-if="fieldChangeRequiresRestart('string-keyed-table')">Restart needed</span></span>
  </div>
</div>

<div class="form-group"
     ng-if="data['store-type'] === 'binary-keyed-jdbc-store' || data['store-type'] === 'mixed-keyed-jdbc-store' || hasBinaryKeyedTable()">
  <label class="col-md-4 control-label">Binary keyed table</label>

  <div class="col-md-4">
    <modal-dialog data="store" field="binary-keyed-table" field-meta="getFieldMetaValues('binary-keyed-table')"
                  outside-controller="internalController" parent-meta="getFieldMetaObject('binary-keyed-table')"
                  previous-values="prevData['binary-keyed-table']" title="Binary Keyed Table"
                  modal-fields="[{name: 'prefix'}, {name: 'batch-size'}, {name: 'fetch-size'},
                  {name: 'name', parent: 'id-column'}, {name: 'type', parent: 'id-column'},
                  {name: 'name', parent: 'data-column'}, {name: 'type', parent: 'data-column'},
                  {name: 'name', parent: 'timestamp-column'}, {name: 'type', parent: 'timestamp-column'},
                  {name: 'create-on-start'}, {name: 'drop-on-exit'}]"/>
  </div>

  <div class="col-md-4 pull-left">
    <i class="fa fa-info-circle" tooltip="{{metadata.currentStore['binary-keyed-table'].description}}"
       tooltip-trigger tooltip-animation="true" tooltip-placement="top"></i>
    <span ng-if="isFieldValueModified('binary-keyed-table')"><a
      ng-click="undoFieldChange('binary-keyed-table')">(Undo)</a>
                <span ng-if="fieldChangeRequiresRestart('binary-keyed-table')">Restart needed</span></span>
  </div>
</div>
